# Production environment example (DO NOT commit real secrets).
# Copy this file to `.env.prod` and fill in real values on the deployment host
# or use your CI / secret manager to inject these vars at runtime.

# Immutable image tags built by CI/CD
CONFIGSERVER_IMAGE=
EUREKA_IMAGE=
GATEWAY_IMAGE=
USERSERVICE_IMAGE=
ADMINSERVICE_IMAGE=
ACTIVITYSERVICE_IMAGE=
AISERVICE_IMAGE=
FRONTEND_IMAGE=

# MongoDB (Atlas) - provide full connection string
# Example format (DO NOT store plaintext secrets in git):
# mongodb+srv://<user>:<password>@cluster.example.net/<dbname>?retryWrites=true&w=majority
MONGO_URI=

# PostgreSQL (Neon) connection details
POSTGRES_URL=
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_DB=

# RabbitMQ / AMQP
RABBITMQ_HOST=
RABBITMQ_PORT=
RABBITMQ_USERNAME=
RABBITMQ_PASSWORD=
# Alternatively provide a full broker URI e.g. amqps://user:pass@host/vhost
RABBITMQ_URI=
RABBITMQ_VIRTUAL_HOST=/
RABBITMQ_LISTENER_AUTO_START=true
RABBITMQ_EXCHANGE=activity.exchange
RABBITMQ_QUEUE=activity.queue
RABBITMQ_ROUTING_KEY=activity.tracking
AI_RABBITMQ_EXCHANGE=
AI_RABBITMQ_QUEUE=
AI_RABBITMQ_ROUTING_KEY=

# Keycloak
KEYCLOAK_ADMIN=
KEYCLOAK_ADMIN_PASSWORD=
KEYCLOAK_REALM=
KEYCLOAK_ADMIN_CLIENT_ID=
KEYCLOAK_ADMIN_USERNAME=
KEYCLOAK_SERVER_URL=
KEYCLOAK_ISSUER_URI=
KEYCLOAK_JWK_SET_URI=

# Frontend build-time variables (if building image in CI)
VITE_API_BASE_URL=
VITE_KEYCLOAK_BASE_URL=
VITE_KEYCLOAK_REALM=
VITE_KEYCLOAK_CLIENT_ID=
VITE_REDIRECT_URI=

# Service discovery / config
SPRING_CONFIG_IMPORT=configserver:http://configserver:8888
EUREKA_DEFAULT_ZONE=http://eureka:8761/eureka/
EUREKA_HOST=eureka
EUREKA_PREFER_IP=false

# Service-specific ports (override as needed)
USER_SERVICE_PORT=8081
ADMIN_SERVICE_PORT=8083
ACTIVITY_SERVICE_PORT=8082
AI_SERVICE_PORT=8084
GATEWAY_SERVICE_PORT=8085

# Observability & misc
CORS_ALLOWED_ORIGINS=
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=1.0
SPRING_PROFILES_ACTIVE=prod

# AI integrations
GEMINI_API_URL=
GEMINI_API_KEY=

# Database tuning defaults
JPA_HIBERNATE_DDL_AUTO=update
JPA_SHOW_SQL=false

# Usage:
# 1) Copy this file to `.env.prod` on the host and populate real values.
#    Keep `.env.prod` out of source control (add to .gitignore).
# 2) Start production compose with:
#    docker compose --env-file .env.prod -f docker-compose.prod.yml up -d
